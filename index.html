<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Le Centre de Mon Univers</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body { margin:0; overflow:hidden; background:black; touch-action:none; }
  canvas { display:block; }
</style>
</head>

<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.js"></script>

<script>
/* SCÈNE */
const scene = new THREE.Scene();

/* CAMERA */
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 5000);
camera.position.set(0,150,500);

/* RENDER */
const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* CONTROLS */
const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.enablePan = false;
controls.minDistance = 80;
controls.maxDistance = 1200;

/* LUMIÈRES */
scene.add(new THREE.AmbientLight(0x333333));
const sunLight = new THREE.PointLight(0xffcc88, 4, 2000);
scene.add(sunLight);

/* ÉTOILES */
const stars = new THREE.BufferGeometry();
const starPositions = [];
for(let i=0;i<20000;i++){
  starPositions.push((Math.random()-0.5)*4000);
  starPositions.push((Math.random()-0.5)*4000);
  starPositions.push((Math.random()-0.5)*4000);
}
stars.setAttribute('position', new THREE.Float32BufferAttribute(starPositions,3));
scene.add(new THREE.Points(stars,new THREE.PointsMaterial({color:0xffffff,size:1})));

/* SOLEIL */
const sun = new THREE.Mesh(
  new THREE.SphereGeometry(40,64,64),
  new THREE.MeshBasicMaterial({ color:0xffaa00 })
);
scene.add(sun);

/* TEXTE SUR LE SOLEIL */
function texte(txt, y){
  const canvas=document.createElement('canvas');
  const ctx=canvas.getContext('2d');
  canvas.width=2048; canvas.height=512;
  ctx.fillStyle='white';
  ctx.font='80px serif';
  ctx.textAlign='center';
  ctx.fillText(txt,1024,300);

  const texture=new THREE.CanvasTexture(canvas);
  const mesh=new THREE.Mesh(
    new THREE.PlaneGeometry(120,30),
    new THREE.MeshBasicMaterial({map:texture,transparent:true})
  );
  mesh.position.y=y;
  sun.add(mesh);
}
texte("La Folle du Démon",50);
texte("Le centre de mon univers",-50);

const atirmaTexte=texte("Atirma",0);

/* PLANÈTES */
const planetes=[];
const data=[
  {s:4,d:70,c:0xb1b1b1},
  {s:7,d:90,c:0xeed5b7},
  {s:8,d:115,c:0x3366ff},
  {s:6,d:140,c:0xff5533},
  {s:20,d:180,c:0xd2b48c},
  {s:17,d:240,c:0xf5deb3},
  {s:14,d:300,c:0x66ccff},
  {s:14,d:350,c:0x3366cc}
];

data.forEach((p,i)=>{
  const planet=new THREE.Mesh(
    new THREE.SphereGeometry(p.s,48,48),
    new THREE.MeshStandardMaterial({color:p.c})
  );
  planet.userData={d:p.d,a:Math.random()*Math.PI*2,s:0.0004+(i*0.0001)};
  scene.add(planet);
  planetes.push(planet);

  const orbite=new THREE.RingGeometry(p.d-0.1,p.d+0.1,256);
  const orbiteMesh=new THREE.Mesh(
    orbite,
    new THREE.MeshBasicMaterial({color:0xffffff,side:THREE.DoubleSide,opacity:0.15,transparent:true})
  );
  orbiteMesh.rotation.x=Math.PI/2;
  scene.add(orbiteMesh);
});

/* ANIMATION */
function animate(){
  requestAnimationFrame(animate);

  sun.rotation.y+=0.0005;

  planetes.forEach(p=>{
    p.userData.a+=p.userData.s;
    p.position.set(
      Math.cos(p.userData.a)*p.userData.d,
      0,
      Math.sin(p.userData.a)*p.userData.d
    );
    p.rotation.y+=0.002;
  });

  controls.update();
  renderer.render(scene,camera);
}

animate();

/* RESPONSIVE */
window.addEventListener('resize',()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>

</body>
</html>
